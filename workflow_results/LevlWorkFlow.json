{
    "last_node_id": 29,
    "last_link_id": 50,
    "nodes": [
        {
            "id": 1,
            "type": "VHS_LoadVideo",
            "pos": [
                40,
                60
            ],
            "size": [
                340,
                100
            ],
            "widgets_values": {
                "video_path": "PATH/TO/your_input.mp4",
                "force_rate": 24,
                "frame_load_cap": 0,
                "skip_first_seconds": 0,
                "limit_seconds": 0
            },
            "outputs": [
                {
                    "name": "images",
                    "type": "IMAGE"
                },
                {
                    "name": "audio",
                    "type": "AUDIO"
                },
                {
                    "name": "frame_count",
                    "type": "INT"
                },
                {
                    "name": "fps",
                    "type": "INT"
                }
            ]
        },
        {
            "id": 2,
            "type": "CLIPTextEncode",
            "pos": [
                80,
                500
            ],
            "size": [
                400,
                80
            ],
            "widgets_values": [
                "stylized cinematic look, consistent materials, rich color grading, filmic contrast, detailed textures"
            ],
            "outputs": [
                {
                    "name": "CONDITIONING",
                    "type": "CONDITIONING"
                }
            ]
        },
        {
            "id": 3,
            "type": "CLIPTextEncode",
            "pos": [
                80,
                610
            ],
            "size": [
                400,
                80
            ],
            "widgets_values": [
                "flicker, artifacts, watercolor bleed, over-sharpen, extra limbs, deformed faces, noise"
            ],
            "outputs": [
                {
                    "name": "CONDITIONING",
                    "type": "CONDITIONING"
                }
            ]
        },
        {
            "id": 4,
            "type": "LoadImage",
            "pos": [
                40,
                250
            ],
            "size": [
                320,
                80
            ],
            "widgets_values": {
                "image": "PATH/TO/reference_style.png"
            },
            "outputs": [
                {
                    "name": "IMAGE",
                    "type": "IMAGE"
                }
            ]
        },
        {
            "id": 5,
            "type": "DepthAnythingV2Preprocessor",
            "pos": [
                420,
                60
            ],
            "size": [
                300,
                90
            ],
            "inputs": [
                {
                    "name": "image",
                    "type": "IMAGE"
                }
            ],
            "outputs": [
                {
                    "name": "IMAGE",
                    "type": "IMAGE"
                }
            ],
            "widgets_values": {
                "resolution": 768,
                "match_input_size": true
            }
        },
        {
            "id": 6,
            "type": "DWOpenPose_Preprocessor",
            "pos": [
                420,
                190
            ],
            "size": [
                300,
                90
            ],
            "inputs": [
                {
                    "name": "image",
                    "type": "IMAGE"
                }
            ],
            "outputs": [
                {
                    "name": "IMAGE",
                    "type": "IMAGE"
                }
            ],
            "widgets_values": {
                "detect_face": true,
                "detect_hands": true,
                "detect_body": true
            }
        },
        {
            "id": 7,
            "type": "CannyEdgePreprocessor",
            "pos": [
                420,
                320
            ],
            "size": [
                300,
                90
            ],
            "inputs": [
                {
                    "name": "image",
                    "type": "IMAGE"
                }
            ],
            "outputs": [
                {
                    "name": "IMAGE",
                    "type": "IMAGE"
                }
            ],
            "widgets_values": {
                "low_threshold": 0.1,
                "high_threshold": 0.3
            }
        },
        {
            "id": 8,
            "type": "ControlNetLoader",
            "pos": [
                760,
                60
            ],
            "size": [
                300,
                70
            ],
            "widgets_values": {
                "control_net_name": "depth_anything_v2_xxx.safetensors"
            },
            "outputs": [
                {
                    "name": "CONTROL_NET",
                    "type": "CONTROL_NET"
                }
            ]
        },
        {
            "id": 9,
            "type": "ControlNetLoader",
            "pos": [
                760,
                190
            ],
            "size": [
                300,
                70
            ],
            "widgets_values": {
                "control_net_name": "dw_openpose_xxx.safetensors"
            },
            "outputs": [
                {
                    "name": "CONTROL_NET",
                    "type": "CONTROL_NET"
                }
            ]
        },
        {
            "id": 10,
            "type": "ControlNetLoader",
            "pos": [
                760,
                320
            ],
            "size": [
                300,
                70
            ],
            "widgets_values": {
                "control_net_name": "canny_xxx.safetensors"
            },
            "outputs": [
                {
                    "name": "CONTROL_NET",
                    "type": "CONTROL_NET"
                }
            ]
        },
        {
            "id": 11,
            "type": "ApplyControlNet",
            "pos": [
                1080,
                60
            ],
            "size": [
                320,
                120
            ],
            "widgets_values": {
                "strength": 0.70,
                "guidance_start": 0.0,
                "guidance_end": 1.0
            },
            "inputs": [
                {
                    "name": "conditioning",
                    "type": "CONDITIONING"
                },
                {
                    "name": "control_net",
                    "type": "CONTROL_NET"
                },
                {
                    "name": "image",
                    "type": "IMAGE"
                }
            ],
            "outputs": [
                {
                    "name": "CONDITIONING",
                    "type": "CONDITIONING"
                }
            ]
        },
        {
            "id": 12,
            "type": "ApplyControlNet",
            "pos": [
                1080,
                200
            ],
            "size": [
                320,
                120
            ],
            "widgets_values": {
                "strength": 0.60,
                "guidance_start": 0.0,
                "guidance_end": 1.0
            },
            "inputs": [
                {
                    "name": "conditioning",
                    "type": "CONDITIONING"
                },
                {
                    "name": "control_net",
                    "type": "CONTROL_NET"
                },
                {
                    "name": "image",
                    "type": "IMAGE"
                }
            ],
            "outputs": [
                {
                    "name": "CONDITIONING",
                    "type": "CONDITIONING"
                }
            ]
        },
        {
            "id": 13,
            "type": "ApplyControlNet",
            "pos": [
                1080,
                340
            ],
            "size": [
                320,
                120
            ],
            "widgets_values": {
                "strength": 0.45,
                "guidance_start": 0.0,
                "guidance_end": 0.8
            },
            "inputs": [
                {
                    "name": "conditioning",
                    "type": "CONDITIONING"
                },
                {
                    "name": "control_net",
                    "type": "CONTROL_NET"
                },
                {
                    "name": "image",
                    "type": "IMAGE"
                }
            ],
            "outputs": [
                {
                    "name": "CONDITIONING",
                    "type": "CONDITIONING"
                }
            ]
        },
        {
            "id": 14,
            "type": "CheckpointLoaderSimple",
            "pos": [
                1460,
                520
            ],
            "size": [
                320,
                90
            ],
            "widgets_values": {
                "ckpt_name": "WAN-VACE.safetensors",
                "vae_name": "auto"
            },
            "outputs": [
                {
                    "name": "MODEL",
                    "type": "MODEL"
                },
                {
                    "name": "CLIP",
                    "type": "CLIP"
                },
                {
                    "name": "VAE",
                    "type": "VAE"
                }
            ]
        },
        {
            "id": 15,
            "type": "IPAdapterApply",
            "pos": [
                1460,
                420
            ],
            "size": [
                320,
                90
            ],
            "widgets_values": {
                "weight": 0.75,
                "clip_vision": "ViT-L-14"
            },
            "inputs": [
                {
                    "name": "image",
                    "type": "IMAGE"
                },
                {
                    "name": "conditioning",
                    "type": "CONDITIONING"
                }
            ],
            "outputs": [
                {
                    "name": "CONDITIONING",
                    "type": "CONDITIONING"
                }
            ]
        },
        {
            "id": 16,
            "type": "VAEEncode",
            "pos": [
                760,
                520
            ],
            "size": [
                300,
                80
            ],
            "inputs": [
                {
                    "name": "pixels",
                    "type": "IMAGE"
                },
                {
                    "name": "vae",
                    "type": "VAE"
                }
            ],
            "outputs": [
                {
                    "name": "LATENT",
                    "type": "LATENT"
                }
            ]
        },
        {
            "id": 17,
            "type": "KSampler",
            "pos": [
                1800,
                520
            ],
            "size": [
                360,
                140
            ],
            "widgets_values": {
                "seed": 123456789,
                "steps": 22,
                "cfg": 5.5,
                "sampler_name": "dpmpp_2m",
                "scheduler": "karras",
                "denoise": 0.45
            },
            "inputs": [
                {
                    "name": "model",
                    "type": "MODEL"
                },
                {
                    "name": "positive",
                    "type": "CONDITIONING"
                },
                {
                    "name": "negative",
                    "type": "CONDITIONING"
                },
                {
                    "name": "latent_image",
                    "type": "LATENT"
                }
            ],
            "outputs": [
                {
                    "name": "LATENT",
                    "type": "LATENT"
                }
            ]
        },
        {
            "id": 18,
            "type": "VAEDecode",
            "pos": [
                2180,
                520
            ],
            "size": [
                260,
                80
            ],
            "inputs": [
                {
                    "name": "samples",
                    "type": "LATENT"
                },
                {
                    "name": "vae",
                    "type": "VAE"
                }
            ],
            "outputs": [
                {
                    "name": "IMAGE",
                    "type": "IMAGE"
                }
            ]
        },
        {
            "id": 19,
            "type": "SaveImage",
            "pos": [
                2460,
                520
            ],
            "size": [
                280,
                100
            ],
            "inputs": [
                {
                    "name": "images",
                    "type": "IMAGE"
                }
            ],
            "widgets_values": {
                "filename_prefix": "out/frames_vace/frame_",
                "extension": "png"
            }
        },
        {
            "id": 20,
            "type": "VHS_VideoCombine",
            "pos": [
                2460,
                650
            ],
            "size": [
                320,
                120
            ],
            "inputs": [
                {
                    "name": "images",
                    "type": "IMAGE"
                },
                {
                    "name": "audio",
                    "type": "AUDIO"
                },
                {
                    "name": "fps",
                    "type": "INT"
                }
            ],
            "widgets_values": {
                "container": "mp4",
                "crf": 14,
                "pix_fmt": "yuv420p",
                "output_path": "out/stylized_vace.mp4"
            }
        }
    ],
    "links": [
        [
            1,
            1,
            0,
            5,
            0,
            "IMAGE"
        ],
        [
            2,
            1,
            0,
            6,
            0,
            "IMAGE"
        ],
        [
            3,
            1,
            0,
            7,
            0,
            "IMAGE"
        ],
        [
            4,
            5,
            0,
            11,
            2,
            "IMAGE"
        ],
        [
            5,
            6,
            0,
            12,
            2,
            "IMAGE"
        ],
        [
            6,
            7,
            0,
            13,
            2,
            "IMAGE"
        ],
        [
            7,
            8,
            0,
            11,
            1,
            "CONTROL_NET"
        ],
        [
            8,
            9,
            0,
            12,
            1,
            "CONTROL_NET"
        ],
        [
            9,
            10,
            0,
            13,
            1,
            "CONTROL_NET"
        ],
        [
            10,
            2,
            0,
            11,
            0,
            "CONDITIONING"
        ],
        [
            11,
            11,
            0,
            12,
            0,
            "CONDITIONING"
        ],
        [
            12,
            12,
            0,
            13,
            0,
            "CONDITIONING"
        ],
        [
            13,
            13,
            0,
            15,
            1,
            "CONDITIONING"
        ],
        [
            14,
            4,
            0,
            15,
            0,
            "IMAGE"
        ],
        [
            15,
            15,
            0,
            17,
            1,
            "CONDITIONING"
        ],
        [
            16,
            3,
            0,
            17,
            2,
            "CONDITIONING"
        ],
        [
            17,
            14,
            0,
            17,
            0,
            "MODEL"
        ],
        [
            18,
            14,
            2,
            16,
            1,
            "VAE"
        ],
        [
            19,
            1,
            0,
            16,
            0,
            "IMAGE"
        ],
        [
            20,
            17,
            0,
            18,
            0,
            "LATENT"
        ],
        [
            21,
            18,
            0,
            19,
            0,
            "IMAGE"
        ],
        [
            22,
            18,
            0,
            20,
            0,
            "IMAGE"
        ],
        [
            23,
            1,
            1,
            20,
            1,
            "AUDIO"
        ],
        [
            24,
            1,
            3,
            20,
            2,
            "INT"
        ]
    ],
    "groups": [],
    "config": {}
}